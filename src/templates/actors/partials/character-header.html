<img class="profile-img" src="{{actor.img}}" data-edit="img" title="{{actor.name}}" />
<section class="header-details flexrow">
  <h1 class="charname">
    <input name="name" type="text" value="{{actor.name}}" placeholder="{{localize 'ACKS.details.name'}}" data-dtype="String" />
  </h1>
  <ul class="summary flexrow">
    <li class="medium-text-field-section">
      <input type="text" name="system.details.alignment" value="{{system.details.alignment}}" data-dtype="String"
         />
      <label>{{localize 'ACKS.details.alignment'}}</label>
    </li>
    <li class="number-header-section">
      <input type="text" name="system.details.age" value="{{system.details.age}}" data-dtype="Number"
         />
      <label>{{localize 'ACKS.details.age'}}</label>
    </li>
    <li class="number-header-section">
      <input type="text" name="system.details.fate" value="{{system.details.fate}}" data-dtype="Number"
         />
      <label>{{localize 'ACKS.details.fate'}}</label>
    </li>

    {{#if system.retainer.enabled}}
    <li class="number-header-section">
      <input type="text" name="system.retainer.wage" value="{{system.retainer.wage}}" data-dtype="String"
         />
      <label>{{localize 'ACKS.RetainerWage'}}</label>
    </li>
    <li class="number-header-section">
        <input type="text" name="system.details.morale" value="{{system.details.morale}}" data-dtype="Number"/>
        <label class="check morale-check" title="{{localize 'ACKS.roll.morale'}}"><a><i class="fas fa-dice"></i>
        {{localize 'ACKS.details.morale'}}</a></label>
    </li>
    <li class="flex2 number-header-section" data-stat="lr">
        <input name="system.retainer.loyalty" type="text" value="{{system.retainer.loyalty}}" data-dtype="Number" />
        <label class="check loyalty-check" title="{{localize 'ACKS.loyalty.check'}}">
          <a><i class="fas fa-dice"></i>{{localize 'ACKS.Loyalty'}}
          </a></label>  
    </li>
    <li class="number-header-section">
        <input type="text" value="{{managerName}}" disabled />
        <label>{{localize 'ACKS.employer'}}</label>  
    </li>
    <li class="flexrow check-field">
        <select type="text" name="system.retainer.category" value="{{system.retainer.category}}">
          {{selectOptions config.hireling_categories selected=system.retainer.category localize=true}}
        </select>         
        <label>{{localize 'ACKS.hireling.category'}}</label>  
    </li>
    {{else}}
    <li>
      <input type="text" name="system.details.title" value="{{system.details.title}}" data-dtype="String"
        {{#if system.details.classLock}}disabled{{/if}} />
      <label>{{localize 'ACKS.details.title'}}</label>
    </li>
    {{/if}}
  </ul>
  
  <ul class="summary flexrow">
    <li class="flex3 class-selection">
      <input type="hidden" name="system.details.classKey" value="{{system.details.classKey}}" data-dtype="String" />
      <div class="class-selection-wrapper {{#if system.details.classLock}}locked{{else}}unlocked{{/if}}">
        {{#if system.details.classLock}}
        {{#with (lookup config.classes system.details.classKey) as |classRef|}}
        <button type="button" class="class-select is-locked" disabled title="{{classRef.name}}">
          <img class="class-icon" src="{{classRef.icon}}" alt="{{classRef.name}}" />
        </button>
        <input type="text" value="{{classRef.name}}" disabled />
        {{else}}
        <button type="button" class="class-select is-locked" disabled title="{{localize 'ACKS.details.selectClass'}}">
          <img class="class-icon" src="{{config.classDefaultIcon}}" alt="{{localize 'ACKS.details.selectClass'}}" />
        </button>
        <input type="text" value="{{system.details.class}}" disabled />
        {{/with}}
        {{else}}
        {{#with (lookup config.classes system.details.classKey) as |classRef|}}
        <button type="button" class="class-select" data-action="select-class" title="{{localize 'ACKS.details.selectClass'}}">
          {{#if classRef.icon}}
          <img class="class-icon" src="{{classRef.icon}}" alt="{{classRef.name}}" />
          {{else}}
          <img class="class-icon" src="{{config.classDefaultIcon}}" alt="{{classRef.name}}" />
          {{/if}}
        </button>
        <input type="text" name="system.details.class" value="{{classRef.name}}" data-dtype="String" />
        {{else}}
        <button type="button" class="class-select" data-action="select-class" title="{{localize 'ACKS.details.selectClass'}}">
          <i class="fas fa-question"></i>
        </button>
        <input type="text" name="system.details.class" value="{{system.details.class}}" data-dtype="String" />
        {{/with}}
        {{/if}}
      </div>
      <label>{{localize 'ACKS.details.class'}}</label>
    </li>
    <li class="number-header-section {{#if (gt system.details.xp.value system.details.xp.next)}}notify{{/if}}">
      <input type="text" name="system.details.level" value="{{system.details.level}}" data-dtype="Number"
        {{#if system.details.classLock}}disabled{{/if}} />
      <label>{{localize 'ACKS.details.level'}}</label>
    </li>
    <li class="number-header-section">
      <input type="text" name="system.details.xp.value" value="{{system.details.xp.value}}" data-dtype="Number"
         />
      <label>{{localize 'ACKS.details.experience.base'}}</label>
      {{#if system.details.xp.bonus}}
      <span class="xp-bonus">+{{system.details.xp.bonus}}%</span>
      {{/if}}
    </li>
    <li class="number-header-section">
      <input type="text" name="system.details.xp.next" id="experiencenext" value="{{system.details.xp.next}}"
        data-dtype="Number" {{#if system.details.classLock}}disabled{{/if}} />
      <label>{{localize 'ACKS.details.experience.next'}}</label>
    </li>

  </ul>
</section>
